<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DgoCode</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
</head>
<body>
    <div class="container d-flex flex-column">
        <div class="box">
            <h1 class="display-4">Generador</h1>
        </div>
        <div class="box mt-2">
            <form action="">
                <div class="form-group">
                    <label for="htmlCode">Ingresa el c√≥digo HTML:</label>
                    <textarea class="form-control" id="htmlCode" rows="4"></textarea>
                </div>
                <div class="mt-2">
                    <button type="button" class="btn btn-primary" onclick="modificar()">Generar</button>                               
                </div>
            </form>
        </div>
        <div class="box">
            <p>Resultado:</p>
            <code id="result"></code>
            <div class="mt-2">
                <button type="button" class="btn btn-secondary" onclick="copiarResultado()">Copiar</button>
            </div>
        </div>
    </div>

    <script>
        function modificar() {
            var htmlCode = document.getElementById('htmlCode').value;
            var replacedCode = htmlCode.replace(/<video[^>]*src=/g, '<a href=');
            replacedCode = replacedCode.replace('><!----><!----><!----><!----></video>', '><download="">Descargar</download></a>');
            document.getElementById('result').innerText = replacedCode;
        }

        function copiarResultado() {
            var resultElement = document.getElementById('result');
            var range = document.createRange();
            range.selectNode(resultElement);
            window.getSelection().removeAllRanges();
            window.getSelection().addRange(range);
            document.execCommand('copy');
            window.getSelection().removeAllRanges();
            alert('El resultado se ha copiado al portapapeles.');
        }
    </script>
</body>
</html>
